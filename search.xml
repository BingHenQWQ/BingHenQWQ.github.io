<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>日志系统</title>
      <link href="/posts/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F.html"/>
      <url>/posts/%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F.html</url>
      
        <content type="html"><![CDATA[<h1>1、日志系统</h1><p>位于/etc/rsyslog.conf</p><p>at漏了</p><p>crod漏了</p><p>软件日志文件位置可在软件配置文件内搜索log查看命名与位置</p><p>sshd的日志文件叫做AUTHPRIV<br>存在于/val/log/secure内<br>*.err为报错信息文件</p><h1>2、日志轮转/切割</h1><p>给日志分批存放-一周保存一次</p><blockquote><p>通过logrotate命令实现<br>logrotate -f 应用配置文件位置 //为强制运行日志轮转-需要重启配置</p></blockquote><p>配置文件位于/etc/logrotate.conf</p><p>weekly 表示为一周一次</p><p>#keep 4 weeks ******<br>rotate 4 表示为只保留4周的文件</p><p>#create new ******<br>create 表示为创建一个新的空的日志文件</p><p>#ues date as a ********<br>dateext 表示后缀为时间命名</p><p>#uncomment ***********<br>#compress 表示为是否压缩文件-这里默认被注释了，意思是关闭</p><p>副配置文件为/etc/logrotate.d/syslog<br>位置同样</p><p>决定权在主配置文件<br>副配置文件用于定义</p>]]></content>
      
      
      <categories>
          
          <category> 计算机语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux基础操作指令</title>
      <link href="/posts/Linux%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4.html"/>
      <url>/posts/Linux%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4.html</url>
      
        <content type="html"><![CDATA[<h1>Linux基础指令</h1><h2 id="1、基础">1、基础</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">ls//查询</span><br><span class="line">man 指令//查询指令用法</span><br><span class="line">mkdir 文件/夹名    //创建文件/夹</span><br><span class="line">rm -rf 文件/夹名   //删除文件/夹</span><br><span class="line"></span><br><span class="line">mv   move  [移动 改名]</span><br><span class="line">Rename SOURCE to DEST, or move SOURCE(s) to DIRECTORY.</span><br><span class="line">把目标文件[SRC]移动到目标位置[DEST]改名，或者把源文件移动到目标目录</span><br><span class="line"> </span><br><span class="line">1.移动</span><br><span class="line">#mv a.txt /tmp  //把文件a.txt移动到/tmp 目录下</span><br><span class="line"> </span><br><span class="line">2.改名</span><br><span class="line">#mv a.txt aa.txt  //把文件a.txt移动到当前目录下并改名为aa.txt</span><br><span class="line">#mv /tmp/a.txt  aaa.txt  //把/tmp目录下的a.txt文件移动到当前目录下并改名为aaa.txt</span><br><span class="line"> </span><br><span class="line">在linux系统中 如果文件前面不加路径 默认为当前路径下的文件</span><br><span class="line"> </span><br><span class="line">3.对多个文件移动</span><br><span class="line">#mv file1.txt file2.txt file3.txt  /tmp //把当前目录下的file&#123;1..5&#125;.txt 文件移动到/tmp目录下</span><br><span class="line"> </span><br><span class="line">mv命令默认最后一个参数为目标位置 其余的为源文件</span><br><span class="line"> </span><br><span class="line">4.对多个文件和目录文件进行移动</span><br><span class="line">#mv /tmp/file1.txt /tmp/file2.txt /tmp/dir1  /root</span><br><span class="line">#把/tmp目录下的file1.txt file2.txt dir1 移动到/root目录下</span><br><span class="line">#移动目录时  如果目录里面有文件 目录下的文件也会一起移动 </span><br><span class="line"></span><br><span class="line">rm  remove  删除</span><br><span class="line">Remove (unlink) the FILE(s).</span><br><span class="line">删除（解除）文件</span><br><span class="line"> </span><br><span class="line">常用的rm命令参数：</span><br><span class="line">-f force  ignore nonexistent files and arguments, never prompt  忽略不存在的文件和参数，不提示 </span><br><span class="line"> </span><br><span class="line">rm -f filename 删除文件且不询问</span><br><span class="line"> </span><br><span class="line">-r or -R recursive  remove directories and their contents recursively 递归地删除目录及其内容</span><br><span class="line"> </span><br><span class="line">rm -rf dirname  删除目录且不询问</span><br><span class="line"> </span><br><span class="line">常用命令</span><br><span class="line">rm -rf ./* 删除当前目录下的所有文件</span><br><span class="line">注：删除时谨慎使用* 不要把根目录全删了</span><br><span class="line"></span><br><span class="line">cp  copy 复制</span><br><span class="line">Copy SOURCE to DEST, or multiple SOURCE(s) to DIRECTORY.</span><br><span class="line">把源文件[src]复制到目标位置dest，或者将多个源文件复制到目标位置</span><br><span class="line"> </span><br><span class="line">常用的cp命令参数：</span><br><span class="line">-f force 与rm命令参数中的-f一致 强制删除 不询问</span><br><span class="line">-r recursive 递归</span><br><span class="line"> </span><br><span class="line">复制单个文件</span><br><span class="line">cp a.txt /tmp   // 将当前目录下的a.txt文件复制到目录 /tmp 下</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">复制多个文件</span><br><span class="line">cp file1.txt file2.txt file3.txt  /tmp</span><br><span class="line">#将多个文件复制到/tmp目录下   cp与mv命令相似 默认把最后一个参数作为目标位置 其余为源文件</span><br><span class="line"> </span><br><span class="line">复制目录</span><br><span class="line">cp -r dir1 /tmp   //复制目录dir1 到 /tmp下</span><br><span class="line"> </span><br><span class="line">cp -rf dir1 /tmp  </span><br><span class="line"> </span><br><span class="line">cp -rf dir1/*  /tmp  // 复制目录dir1下的所有文件和目录到/tmp下</span><br></pre></td></tr></table></figure><blockquote><p>文本编辑</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi </span><br><span class="line">vim 文件名//创建或打开文件并输入内容</span><br><span class="line">---输入:或/即可进入命令模式//一般只使用:</span><br><span class="line">i//按下i键进入编辑模式  =全称INSERT</span><br><span class="line">wq//保存并退出</span><br></pre></td></tr></table></figure><h2 id="2、用户与用户组">2、用户与用户组</h2><blockquote><p>用户</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd 用户名            //创建用户</span><br><span class="line">usermod 参数 ?/组名 用户名   //修改用户</span><br><span class="line">userdel 用户名            //删除用户</span><br></pre></td></tr></table></figure><blockquote><p>用户组</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">groupadd 组名              //创建用户组</span><br><span class="line">groupmod                   //修改用户组</span><br><span class="line">groupdel 组名              //删除用户组</span><br></pre></td></tr></table></figure><blockquote><p>user+group大部分通用参数</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">-c                     --修改备注通用</span><br><span class="line">-d                     --修改主目录通用</span><br><span class="line">-e                     --修改日期通用</span><br><span class="line">-g                     --修改gid通用</span><br><span class="line">-u                     --修改uid通用</span><br><span class="line">-l                     --修改用户名通用</span><br><span class="line">-L                     --临时锁定用户user</span><br><span class="line">-U                     --解锁用户user</span><br><span class="line">-s                     --修改shell通用</span><br></pre></td></tr></table></figure><blockquote><p>gpasswd</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gpasswd //管理用户组</span><br><span class="line">（下面是参数）</span><br><span class="line">-a                     --add USER 将 USER 添加到 GROUP</span><br><span class="line">-d                     --delete USER 从 GROUP 中删除 USER</span><br><span class="line">-h                     --help 显示此帮助消息并退出</span><br><span class="line">-Q                      --root CHROOT_DIR chroot 进入的目录</span><br><span class="line">-r                      --delete-password 删除 GROUP 的密码</span><br><span class="line">-R                      --restrict 限制对 GROUP 成员的访问</span><br><span class="line">-M                     --members 用户,...       设置GROUP成员列表</span><br><span class="line">-A                     --administrators 管理员,...</span><br><span class="line">                               设置 GROUP 的管理员列表</span><br></pre></td></tr></table></figure><h2 id="3、权限">3、权限</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ll /root                      //查询root目录下文件的权限</span><br><span class="line">ll -d /root                    //查询root目录的权限</span><br></pre></td></tr></table></figure><h2 id="4、挂载">4、挂载</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mount                          //挂载</span><br><span class="line">umount                        //卸载</span><br><span class="line">yum clean all                       //清除缓存</span><br><span class="line">yum repolist                        //查看缓存</span><br></pre></td></tr></table></figure><blockquote><p>开机自动挂载</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/fstab</span><br><span class="line">进去后在下面补充</span><br><span class="line">mount /dev/cdrom /opt                       //挂载命令-可有可无</span><br><span class="line">/dev/cdrom /opt iso9660 defaults 0 0        //空格至少一个-必须要有</span><br><span class="line">/dev/cdrom挂载文件地址  /opt挂载目录 iso9660挂载源文件类型</span><br><span class="line">不需要了可在那一行前加上#（#为注释的意思）</span><br><span class="line">挂载文件地址可用挂载文件的UUID代替</span><br><span class="line">lsnlk -f    list block   查看文件UUID</span><br></pre></td></tr></table></figure><h2 id="5、yum源配置">5、yum源配置</h2><blockquote><p>yum源地址在/etc/yum.repos.d/ 当中的.repo文件内</p></blockquote><blockquote><p>先进入文件夹（cd /etc/yum.repos.d）</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[文件名]</span><br><span class="line">name=文件名</span><br><span class="line">baseurl=file:///opt                 //本地协议为file://  网络协议为http://</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br></pre></td></tr></table></figure><h2 id="6、安装软件和启动">6、安装软件和启动</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum history                      //查看安装和卸载的历史</span><br><span class="line">yum history info 排序号          //查看具体信息</span><br><span class="line">yum install 应用名               //安装应用</span><br><span class="line">yum list |grep 应用名            //查看应用是否安装</span><br><span class="line">yum remove/erase 应用名          //卸载应用-有残留</span><br><span class="line">yum history undo 排序号 -y       //卸载应用-无残留 搭配历史使用</span><br><span class="line">systemctl start 应用名           //启动应用</span><br><span class="line">systemctl status 应用名          //查看应用是否运行---ps -ef |grep 应用名 也是同理</span><br></pre></td></tr></table></figure><h2 id="7、查找与替换">7、查找与替换</h2><blockquote><p>sed 尽量用`</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-n ：使用安静(silent)模式。在一般 sed 的用法中，所有来自 STDIN 的数据一般都会被列出到终端上。但如果加上 -n 参数后，则只有经过sed 特殊处理的那一行(或者动作)才会被列出来。</span><br><span class="line">-e ：直接在命令列模式上进行 sed 的动作编辑；</span><br><span class="line">-f ：直接将 sed 的动作写在一个文件内， -f filename 则可以运行 filename 内的 sed 动作；</span><br><span class="line">-r ：sed 的动作支持的是延伸型正规表示法的语法。(默认是基础正规表示法语法)</span><br><span class="line">-i ：直接修改读取的文件内容，而不是输出到终端。</span><br><span class="line"></span><br><span class="line">function：</span><br><span class="line">a ：新增， a 的后面可以接字串，而这些字串会在新的一行出现(目前的下一行)～</span><br><span class="line">c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！</span><br><span class="line">d ：删除，因为是删除啊，所以 d 后面通常不接任何咚咚；</span><br><span class="line">i ：插入， i 的后面可以接字串，而这些字串会在新的一行出现(目前的上一行)；</span><br><span class="line">p ：列印，亦即将某个选择的数据印出。通常 p 会与参数 sed -n 一起运行～</span><br><span class="line">s ：取代，可以直接进行取代的工作哩！通常这个 s 的动作可以搭配正规表示法！例如 1,20s/old/new/g 就是啦！</span><br><span class="line"></span><br><span class="line">（该解释来源csdn用户bobuddy）</span><br></pre></td></tr></table></figure><blockquote><p>正则表达式<br>内容太多，转跳到里面看吧</p></blockquote><a class="btn-beautify " href="/www.sanliang.xyz/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html"   title="正则表达式"><span>正则表达式</span></a><h2 id="8、本地修改IP地址">8、本地修改IP地址</h2><blockquote><p>网卡配置文件地址vi /etc/sysconfig/network-scripts/ifcfg-ens33</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">配置文件如下</span><br><span class="line"></span><br><span class="line">TYPE=Ethernet</span><br><span class="line">PROXY_METHOD=none</span><br><span class="line">BROWSER_ONLY=no</span><br><span class="line">BOOTPROTO=none            //static也可以</span><br><span class="line">DEFROUTE=yes</span><br><span class="line">IPV4_FAILURE_FATAL=no</span><br><span class="line">IPV6INIT=yes</span><br><span class="line">IPV6_AUTOCONF=yes</span><br><span class="line">IPV6_DEFROUTE=yes</span><br><span class="line">IPV6_FAILURE_FATAL=no</span><br><span class="line">IPV6_ADDR_GEN_MODE=不动</span><br><span class="line">NAME=ens33</span><br><span class="line">UUID=不可动</span><br><span class="line">DEVICE=ens33</span><br><span class="line">ONBO0T=yes</span><br><span class="line">IPADDR=修改的IP地址</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=网关</span><br><span class="line">DNS1=114.114.114.114</span><br><span class="line"></span><br><span class="line">----------------------</span><br><span class="line"></span><br><span class="line">重启网络服务systemctl restart network             //restart-重启  start-开启  stop-停止</span><br></pre></td></tr></table></figure><h2 id="9、Linux权限管理-ACL权限">9、Linux权限管理-ACL权限</h2><blockquote><p>本章来源</p></blockquote><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">作者：honehou</span><br><span class="line">链接：https:<span class="regexp">//</span>www.jianshu.com<span class="regexp">/p/</span>ff6c3b0ac0ad</span><br><span class="line">来源：简书</span><br></pre></td></tr></table></figure><blockquote><p>设定和查看ACL权限</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">为用户设定ACL权限</span><br><span class="line">[root@localhost ~]# setfacl -m u:用户名:权限(rwx) 文件名</span><br><span class="line">======================================================</span><br><span class="line">为用户组设定ACL权限</span><br><span class="line">[root@localhost ~]# setfacl -m g:组名:权限(rwx) 文件名</span><br></pre></td></tr></table></figure><blockquote><p>查看ACL权限</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">查看文件或目录的ACL权限</span><br><span class="line">[root@localhost ~]# getfacl 文件名</span><br></pre></td></tr></table></figure><blockquote><p>补充参数</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-m：设定ACL权限；</span><br><span class="line">-x：删除指定的ACL权限；</span><br><span class="line">-b：删除所有的ACL权限；</span><br><span class="line">-d：设定默认ACL权限；</span><br><span class="line">-k：删除默认ACL权限；</span><br><span class="line">-R：递归设定ACL权限；</span><br></pre></td></tr></table></figure><blockquote><p>最大权限与删除</p></blockquote><p>最大有效权限mask</p><p>mask是用来指定最大有效权限的（使用命令getfacl 文件名显示的结果中倒数第二排会出现mask这个词）。如果给用户赋予了acl权限，是需要和mask的权限“相与”才能得到用户的真正权限。相与是计算机中的术语，皆真方为真，有假便为假。例如mask权限为rwx，某用户的acl权限为r-x，则实际有效权限为r-x。<br>※最大权限也会影响到组权限（例：某文件所有者为tony，chmod赋予的普通权限为7，而acl赋予tony的权限为5，则acl权限会高于chmod权限）</p><blockquote><p>修改最大有效权限mask</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">修改mask的命令 </span><br><span class="line">setfacl -m m:权限 文件</span><br></pre></td></tr></table></figure><blockquote><p>删除acl权限的命令</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">删除指定用户的acl权限</span><br><span class="line">setfacl -x u:用户名 文件</span><br><span class="line">=============================</span><br><span class="line">删除指定用户组的acl权限 </span><br><span class="line">setfacl -x g:组名 文件</span><br><span class="line">=============================</span><br><span class="line">删除文件所有的acl权限</span><br><span class="line">setfacl -b 文件</span><br></pre></td></tr></table></figure><blockquote><p>递归ACL权限</p></blockquote><p>父目录在设定ACL权限时，所有的已建立好的子文件和子目录也会拥有相同的ACL权限。<br>※递归权限仅能赋予目录，赋予文件会报错<br>※新建立的文件没有相应的权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设定递归权限</span><br><span class="line">setfacl -m u：用户名：权限 -R 目录名</span><br></pre></td></tr></table></figure><blockquote><p>默认ACL权限</p></blockquote><p>如果父目录设定默认ACL权限，那么父目录中所有新建的子文件都会继承父目录的ACL权限。<br>※默认权限也只能赋予目录，但赋予文件不会报错<br>※旧的子文件不会赋予响应的权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设定默认权限</span><br><span class="line">setfacl -m d（default的缩写）:用户名:权限 目录名</span><br></pre></td></tr></table></figure><blockquote><p>权限溢出</p></blockquote><p>由于rwx对文件和目录的作用不同，当给目录赋予权限时，递归所得到子文件权限可能超出预想，这便是权限溢出。<br>※尽量少用acl权限</p><h2 id="10、sed语法选项">10、sed语法选项</h2><p>太多了懒得复制<br>详细参考</p><a class="btn-beautify " href="https://blog.csdn.net/u010783226/article/details/106439169"   title="sed语法选项"><span>sed语法选项</span></a>]]></content>
      
      
      <categories>
          
          <category> 计算机语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux拓展-Ansible</title>
      <link href="/posts/Linux%E6%8B%93%E5%B1%95-Ansible.html"/>
      <url>/posts/Linux%E6%8B%93%E5%B1%95-Ansible.html</url>
      
        <content type="html"><![CDATA[<h1>安装Ansible</h1><blockquote><p>yum安装Ansible</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y epel-release</span><br><span class="line">yun clean all</span><br><span class="line">yum repolist</span><br><span class="line">yum install ansible</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>给主机名修改一下</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname node1      重命名主机名</span><br><span class="line">bash                                重新加载主机名</span><br></pre></td></tr></table></figure><h1>免密登录配置</h1><blockquote><p>老师讲的没带电脑给忘了</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/ansible/hosts</span><br><span class="line">ssh-keygen</span><br><span class="line">ssh-copy-ip root@nodel              传输公钥文件</span><br></pre></td></tr></table></figure><blockquote><p>配置密钥对验证，实现免密登录</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">免密2</span><br><span class="line">ssh-keygen -t rsa#生成密钥。使用回车免密</span><br><span class="line">sshpass -p &#x27;123456&#x27; ssh-copy-id root@192.168.226.50</span><br><span class="line">#上传密钥，实现免密登录</span><br><span class="line">sshpass -p &#x27;123456&#x27; ssh-copy-id root@192.168.226.60</span><br></pre></td></tr></table></figure><h1>ansible模块详解</h1><ol><li>command</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1，在远程主机执行命令，不支持管道，重定向等shell的特性。</span><br><span class="line">ansible-doc -s command#一s列出指定模块的描述信息和操作动作</span><br><span class="line">ansible.192.168.226.50 -m command -a &#x27;date&#x27;#指定ip执行date</span><br><span class="line">ansbile dbservers -m command -a &#x27;date&#x27;#指定组执行date</span><br><span class="line">asible all -m command -a &#x27;date&#x27;#all 代表麦所有hosts 主机</span><br><span class="line">ansible all -a &#x27;ls i &#x27;#如省略-m模块，则默认运行command模块</span><br><span class="line"></span><br><span class="line">2，常用的参数:</span><br><span class="line">chdir:在远程主机上运行命令前提前进入目录</span><br><span class="line">creates:在命令运行时创建一个文件，如果文件存在，则不会创建任务</span><br><span class="line">removes:在命令运行时移除一个文件，如果文件不存在，则不会执行移除任务executeble:指明运行命令的shell程序</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="2"><li>shell</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//在远程主机执行命令，相当于调用远程主机的shel1进程，</span><br><span class="line">然后在该shel1下打开一个子shel1运行命令（支持管道符号等功能)</span><br><span class="line">ansible-doc -s shell</span><br><span class="line"></span><br><span class="line">#使用ansible来查询dbservers中的ens33的IP地址</span><br><span class="line">ansible dbservers -m shell -a &#x27;echo $(ifconfig ens33 | awk &quot;NR==2&#123;print $1&#125;&quot;) | cut -d &quot; &quot; -f 2&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="3"><li>cron</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//在远程主机定义任务计划。其中有两种状态</span><br><span class="line"> present表示添加（可以省略）</span><br><span class="line"> absent表示移除。</span><br><span class="line"> ansible-doc -s cron#按q退出</span><br><span class="line"> </span><br><span class="line">/常用的参数:</span><br><span class="line">ninute / hour/ day / minute / weekday:分/时/日/月/周</span><br><span class="line">job:任务计划要执行的命令</span><br><span class="line">name:任务计划的名称</span><br><span class="line">#移除计划任务，假如该计划任务没有取名字，name=None即可</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="4"><li>user</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//用户管理的模块</span><br><span class="line">ansible-doc -s user</span><br><span class="line"></span><br><span class="line">//常用的参数:</span><br><span class="line">name:用户名，必选参数</span><br><span class="line">state=present|absent:创建账号或者删除账号，present表示创建，absent表示删除</span><br><span class="line">system=yeslno:是否为系统账号</span><br><span class="line">uid:用户uid</span><br><span class="line">group: 用户基本组</span><br><span class="line">shell: 默认使用的shell</span><br><span class="line">move_home=yse|no: 如果设置的家目录已经存在，是否将已经存在的家目录进行移动</span><br><span class="line">password:用户的密码，建议使用加密后的字符串</span><br><span class="line">comment:用户的注释信息</span><br><span class="line">remove=yes|no: 当state=absent时，是否删除用户的家目录</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="5"><li>group</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//用户组管理的模块</span><br><span class="line">ansible-doc -s group</span><br><span class="line"></span><br><span class="line">ansible dbservers -m group -a &#x27;name=mysql gid=306 system=yes&#x27;#创建mysql组</span><br><span class="line">ansible dbservers -a &#x27;tail /etc/group&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="6"><li>copy</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//用于复制指定主机文件到远程主机的</span><br><span class="line">ansible-doc -s copy</span><br><span class="line"></span><br><span class="line">//常用的参数:</span><br><span class="line">dest:指出复制文件的目标及位置，使用绝对路径，如果是源目录，指目标也要是目录，如果目标文件已经存在会覆盖原有的内容</span><br><span class="line">src:指出源文件的路径，可以使用相对路径或绝对路径，支持直接指定目录，如果源是目录则目标也要是目录</span><br><span class="line">mode:指出复制时，目标文件的权限</span><br><span class="line">owner:指出复制时，目标文件的属主group:指出复制时，目标文件的属组</span><br><span class="line">content:指出复制到目标主机上的内容，不能与src一起使用</span><br><span class="line"></span><br><span class="line">ansible dbservers -m copy -a &#x27;src=/opt/123.txt dest=/opt/456 owner=root mode=640&#x27;</span><br><span class="line"></span><br><span class="line">#将helloworld写入/opt/123.txt文件中</span><br><span class="line">ansible dbservers -m copy -a &#x27;content- &quot;helloworld&quot; dest=/opt/123.txt&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="7"><li>file</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#修改文件的属主属组权限等</span><br><span class="line">ansible dbservers -m file -a &#x27;owner=test01 group=mysql mode=644 path=/opt/fstab.bak&#x27;</span><br><span class="line"></span><br><span class="line">#设置/opt/fstab. link为/opt/fstab.bak的链接文件</span><br><span class="line">ansible dbservers -m file -a &#x27;path=/opt/fstab.link src=/opt/fstab.bak state=link&#x27;</span><br><span class="line"></span><br><span class="line">#创建一个文件</span><br><span class="line">ansible dbservers -m file -a &quot;path=/opt/abc.txt state=touch&quot;</span><br><span class="line"></span><br><span class="line">删除一个文件</span><br><span class="line">ansible dbservers -m file -a &quot;path=/opt/abc.txt state=absent&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="8"><li>hostname</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/用于管理远程主王机上的主机名</span><br><span class="line"></span><br><span class="line">#修改dbservers组中的主机名</span><br><span class="line">ansible dbservers -m hostname -a &quot;name=mysql01&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="9"><li>ping</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/检测远程主机的连通性</span><br><span class="line"></span><br><span class="line">#ping所有组中的主机</span><br><span class="line">ansible all -m ping</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="10"><li>yum</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">/在远程主机上安装与卸载软件包</span><br><span class="line">ansible-doc -s yum</span><br><span class="line"></span><br><span class="line">#安装服务</span><br><span class="line">ansible webservers -m yum -a &#x27; name=httpd&quot;</span><br><span class="line"></span><br><span class="line">#卸载服务</span><br><span class="line">ansible webservers -n yum -a &#x27;name=httpd state=absent&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="11"><li>script</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//实现远程批量运行本地的shell 脚本</span><br><span class="line">ansible-doc -s script</span><br><span class="line"></span><br><span class="line">vim test.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;hello linux&quot; &gt;/opt/script.txt</span><br><span class="line">chmod +x test.sh</span><br><span class="line"></span><br><span class="line">ansible webservers -m script -a &#x27;test.sh&#x27;</span><br><span class="line">ansible webservers -a &#x27;cat /opt/script.txt&#x27;</span><br><span class="line">实现原理类似将脚本上传到远程主机，再进行实现脚本。环境为远程主机的环境。</span><br><span class="line"></span><br></pre></td></tr></table></figure><ol start="12"><li>setup</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//facts 组件是用来收集被管理节点信息的，使用setup模块可以获取这些信息</span><br><span class="line">ansible-doc -s setup</span><br><span class="line"></span><br><span class="line">#获取mysql组主机的facts信息</span><br><span class="line">ansible webservers -m setup</span><br><span class="line"></span><br><span class="line">#使用filter可以筛选指定的facts信息</span><br><span class="line">ansible dbservers -m setup -a &#x27;filter=*ipv4&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 计算机语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Html5基础</title>
      <link href="/posts/Html5%E5%9F%BA%E7%A1%80.html"/>
      <url>/posts/Html5%E5%9F%BA%E7%A1%80.html</url>
      
        <content type="html"><![CDATA[<h1>Html5</h1><h2 id="1、基础">1、基础</h2><p>input    //输入栏</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">type                        //功能</span><br><span class="line">value                       //标签-一些元素的实际内容写在这里面</span><br><span class="line">select                      //下拉列表</span><br><span class="line">option                      //单选选项-用于下拉列表内</span><br><span class="line">te</span><br></pre></td></tr></table></figure><blockquote><p>元素</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">type---</span><br><span class="line">text                        //只能用数字，字母以及下划线组合</span><br><span class="line">password                    //密码位数不能低于8位，使用两次代表确认密码</span><br><span class="line">date                        //时间-精确到年月日</span><br><span class="line">date                        //时间-精确到年月日时分</span><br><span class="line">radio                       //单选按钮</span><br><span class="line">checkbox                    //多选按钮</span><br><span class="line">submit                      //提交-用于登录按钮或者确认</span><br><span class="line">reset                       //重置-用于重置按钮</span><br><span class="line">email                       //邮箱</span><br><span class="line">url                         //网址</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 计算机语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Html5 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>正则表达式</title>
      <link href="/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html"/>
      <url>/posts/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html</url>
      
        <content type="html"><![CDATA[<h1>一、基本正则表达式</h1><blockquote><p>关于正则表达式的内容挺多的，掌握好下文中提及的内容就能满足正常工作中的需要，如果是专门做正则编程的，可以去买本正则表达式的书籍来看好了^_^。只有多动手多练习，才是学开发编程的最好姿势。</p></blockquote><h2 id="1-符号">1. 符号&quot;.&quot;</h2><blockquote><p>匹配任意一个字符，除了换行符，但是需要注意的是，在sed中不能匹配换行符，但是在awk中可以匹配换行符。类似shell通配符中的&quot;?&quot;，匹配一个任意字符。</p></blockquote><h2 id="2-符号">2. 符号&quot;*&quot;</h2><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;*&quot;</span>表示前边字符有<span class="number">0</span>个或多个。<span class="string">&quot;.*&quot;</span>表示任意一个字符有<span class="number">0</span>个或多个，也就是能匹配任意的字符。类似<span class="keyword">shell</span>通配符中的<span class="string">&quot;*&quot;</span>，可以匹配任意字符。</span><br></pre></td></tr></table></figure><h2 id="3-符号">3. 符号&quot;[]&quot;</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;<span class="selector-attr">[ ]</span>&quot;中括号中可以包含表示字符集的表达式。使用方法大概有如下几种。</span><br><span class="line"><span class="selector-attr">[a-z]</span>：表示<span class="selector-tag">a</span>-z字符中的一个，也就是小写字母。</span><br><span class="line"><span class="selector-attr">[0-9]</span>：表示<span class="number">0</span>-<span class="number">9</span>字符中的一个，也就是表示数字。</span><br><span class="line"><span class="selector-attr">[A-Z]</span>：表示大写字母。</span><br><span class="line"><span class="selector-attr">[a-zA-Z]</span>：表示字符集为小写字母或者大写字母。</span><br><span class="line"><span class="selector-attr">[a-zA-Z0-9]</span>：表示普通字符，包括大小写字母和数字。</span><br><span class="line"><span class="selector-attr">[abc]</span>：表示字符<span class="selector-tag">a</span>或者字符<span class="selector-tag">b</span>或者字符c。</span><br><span class="line"><span class="selector-attr">[^0-9]</span>：表示非数字类型的字符，^表示取反意思，只能放在中括号的开始处才有意义。</span><br><span class="line"><span class="selector-attr">[-cz]</span>：表示字符-或者字符c或者字符z，注意与<span class="selector-attr">[c-z]</span>的区别，因为-符号没有放在e和f之间。</span><br></pre></td></tr></table></figure><h2 id="4-符号">4. 符号&quot;^&quot;</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;^&quot;</span>表示行首的意思，也就是每一行的开始位置。在这里并不是上边字符范围中取反的意思，^符号只有在<span class="string">&quot;[]&quot;</span>符号的开头处才能表示字符取反。</span><br><span class="line">^<span class="keyword">abc</span>：表示以<span class="keyword">abc</span>开头的字符串<span class="keyword">abc</span>。</span><br><span class="line">^<span class="keyword">abc</span>.*：表示以<span class="keyword">abc</span>开头的字符串abcxxx。</span><br></pre></td></tr></table></figure><h2 id="5-符号">5. 符号&quot;$&quot;</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;<span class="variable">$</span>&quot;</span>表示行尾的意思，也就是每一行的结尾位置，很好理解，和<span class="string">&quot;^&quot;</span>正好相反。</span><br><span class="line">world<span class="variable">$</span>：表示以world结尾的字符串world，如果该行中间有world字符串是不符合匹配条件的。</span><br><span class="line">^<span class="variable">$</span>：表示空行。行首和行尾没有内容，可不就是空行嘛。</span><br></pre></td></tr></table></figure><h2 id="6-符号">6. 符号&quot;&quot;</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;\&quot;</span>表示是转义字符，和其它语言中用到的转义字符意义基本上是一样的。其实简单理解，就是把元字符转义为普通字符，比如<span class="string">&quot;\\&quot;</span>表示普通符号<span class="string">&quot;\&quot;</span>，把普通字符转换为特殊意义符号，比如<span class="string">&quot;\n&quot;</span>表示把普通字符n转义为换行符。</span><br></pre></td></tr></table></figure><h2 id="7-符号">7. 符号&quot;{}&quot;</h2><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="language-xml">&quot;</span><span class="template-variable">&#123;&#125;</span><span class="language-xml">&quot;表示前边字符的数量范围，大概有三种用法，其实容易理解，看例子就知道了，但是必须注意要加上转义字符&quot;\&quot;，否则不生效，表示为普通字符&quot;</span><span class="template-variable">&#123;&quot;或&quot;&#125;</span><span class="language-xml">&quot;。</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">\</span><span class="template-variable">&#123;2\&#125;</span><span class="language-xml">：表示前边字符的重复次数是2。</span></span><br><span class="line"><span class="language-xml">\</span><span class="template-variable">&#123;2,\&#125;</span><span class="language-xml">：表示前边字符的重复次数至少是2，也就是大于等于2。</span></span><br><span class="line"><span class="language-xml">\</span><span class="template-variable">&#123;2,9\&#125;</span><span class="language-xml">：表示前边字符的重复次数大于2但小于9。</span></span><br></pre></td></tr></table></figure><h2 id="8-符号-和">8. 符号&quot; \ &lt; &quot; 和 &quot; \ &gt; &quot;</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;\&lt;&quot;</span>表示匹配条件为词首的位置，理解上可以对比 <span class="string">&quot;^&quot;</span> 行首。</span><br><span class="line"></span><br><span class="line">举个例子，<span class="string">&quot;nihao 1hello 2hello3 hello4&quot;</span>有这么内容的一行内容。</span><br><span class="line"><span class="string">&quot;\&lt; hello&quot;</span>匹配结果<span class="string">&quot;nihao 1hello 2hello3 hello4&quot;</span>；</span><br><span class="line"><span class="string">&quot;hello\&gt;&quot;</span>匹配结果<span class="string">&quot;nihao 1hello 2hello3 hello4&quot;</span>，这种匹配方式用的不是太多，用到会用就OK。</span><br></pre></td></tr></table></figure><h1>二、扩展正则表达式</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">扩展正则表达式是在基本正则表达式中扩展出来的，内容不是很多，使用频率上可能没有基本正则表达式那么高，但是扩展正则依然很重要，很多情况下没有扩展正则是搞不定的。sed命令使用扩展正则需要加上选项-r。</span><br></pre></td></tr></table></figure><h2 id="1-符号-2">1. 符号&quot;?&quot;</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;?&quot;</span>：表示前置字符有<span class="number">0</span>个或<span class="number">1</span>个。</span><br></pre></td></tr></table></figure><h2 id="2-符号-2">2. 符号&quot;+&quot;</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;+&quot;</span>：表示前置字符有<span class="number">1</span>个或多个。</span><br></pre></td></tr></table></figure><h2 id="3-符号-2">3. 符号&quot; | &quot;</h2><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;|&quot;</span>：表示指明两项之间的一个选择。</span><br><span class="line"><span class="keyword">abc</span>|ABC：表示可以匹配<span class="keyword">abc</span>或者ABC。</span><br></pre></td></tr></table></figure><h2 id="4-符号-2">4. 符号&quot;()&quot;</h2><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;()&quot;</span>表示分组，类似算数表达式中的<span class="comment">()</span>。子命令表达式中可以通过\<span class="number">1</span>，\<span class="number">2</span>，\<span class="number">3</span>等来表示分组匹配到的内容。其实<span class="string">&quot;()&quot;</span>也可以在基本正则表达式中使用的。</span><br><span class="line"><span class="comment">(a|b)</span>b：表示可以匹配ab或者bb字串</span><br><span class="line"><span class="comment">([0-9])</span>|<span class="comment">([0][0-9])</span>|<span class="comment">([1][0-9])</span>：表示匹配<span class="number">0</span><span class="number">-9</span>或者<span class="number">00</span><span class="number">-09</span>或者<span class="number">10</span><span class="number">-19</span>范围的字符。</span><br></pre></td></tr></table></figure><h2 id="5-符号-2">5. 符号&quot;{}&quot;</h2><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这里的<span class="string">&quot;&#123;&#125;&quot;</span>和基本正则表达式中的大括号意义是一样的，只不过在使用时不用加<span class="string">&quot;\&quot;</span>转义符号。</span><br></pre></td></tr></table></figure><h1>三、正则表达式的分类和应用</h1><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">字符类</span><br><span class="line"><span class="selector-attr">[Ww]</span>hat  \<span class="selector-class">.H</span><span class="selector-attr">[12345]</span></span><br><span class="line"></span><br><span class="line">字符的范围</span><br><span class="line"><span class="selector-attr">[a-z]</span> <span class="selector-attr">[0-9]</span> <span class="selector-attr">[Cc]</span>hapter<span class="selector-attr">[1-9]</span> <span class="selector-attr">[-+*/]</span> <span class="selector-attr">[0-1]</span><span class="selector-attr">[0-9]</span><span class="selector-attr">[-/]</span><span class="selector-attr">[0-3]</span><span class="selector-attr">[0-9]</span><span class="selector-attr">[-/]</span><span class="selector-attr">[0-9]</span><span class="selector-attr">[0-9]</span></span><br><span class="line"></span><br><span class="line">排除字符类</span><br><span class="line"><span class="selector-attr">[^0-9]</span></span><br><span class="line"></span><br><span class="line">重复出现的字符</span><br><span class="line"><span class="selector-attr">[15]</span><span class="number">0</span>*  <span class="selector-attr">[15]</span><span class="number">00</span></span><br><span class="line"></span><br><span class="line">字符的跨度</span><br><span class="line">*与\&#123;n,m\&#125;</span><br><span class="line"></span><br><span class="line">电话号码的匹配</span><br><span class="line"><span class="selector-attr">[0-9]</span>\&#123;<span class="number">3</span>\&#125;-<span class="selector-attr">[0-9]</span>\&#123;<span class="number">7</span>,<span class="number">8</span>\&#125;</span><br><span class="line"></span><br><span class="line">分组操作</span><br><span class="line"><span class="built_in">compan</span>(y|ies)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 计算机语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
